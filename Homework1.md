# Инструкция по работе с Git

Git - это программа по контролю версий.

## Изображение
![Эмблема гит](1.jpg)

## Создание нового репозитория
Чтобы создать новый репозиторий (инициализировать), нужно ввести команду:

    git init

## Проверка актуального состояния репозитория
Для того, чтобы проверить в каком состоянии находится репозиторий, нужно ввести команду:

    git status

## Добавление содержимого рабочей директории в индекс
Для того, чтобы добавить содержимое файла в индекс (буфер), нужно ввести команду:

    git add <имя файла>

## Фиксация проиндексированных изменений
Для того, чтобы зафиксировать проиндексированные изменения (git add) с помощью терминала по умолчанию (VSCode, VIM), нужно ввести команду:

    git commit

При работе с **VSCode** в новой вкладке в первой строке пишет название commit, сохраняем, закрываем вкладку.

При работе с **VIM** нажимаем ESC, переходим в первую строку, пишем название commit, нажимаем ESC, после :wq, после Enter.

## Фиксация проиндексированных изменений -m
Для того, чтобы зафиксировать проиндексированные изменения (git add) без перехода в новое окно, нужно ввести команду:

    git commit -m 'message'

## Фиксация проиндексированных изменений -am
Для того, чтобы зафиксировать изменения без предварительной индексации (без git add), то есть объединить две команды в одну, нужно ввести команду:

    git commit -am 'message'

## Просмотр изменений текущей версии
Для того, чтобы просмотреть разницу между текущей и зафиксированной версией, нужно ввести команду:

    git diff

## Просмотр изменений различных коммитов
Для того, чтобы просмотреть разницу между определенными коммитами, нужно ввести команду:

    git diff <hash1> <hash2>

## Просмотр изменений различных коммитов
Для того, чтобы просмотреть разницу между определенными коммитами, нужно ввести команду:

    git diff <hash1> <hash2>

## Переключение веток
Для того, чтобы переключиться в сохраненный коммит, нужно ввести команду:

    git checkout <hash1>

Для возврата в основную ветку, нужно ввести команду:

    git checkout master

## Просмотр списка изменений
Для того, чтобы просмотреть список изменений в хронологическом порядке, нужно ввести команду:

    git log

## Просмотр списка изменений oneline
Для того, чтобы просмотреть список изменений, где каждый коммит записан в одну строку, нужно ввести команду:

    git log --oneline

## Просмотр списка изменений all
Для того, чтобы просмотреть список изменений во всех ветках, вне зависимости в каком коммите вы находитесь сейчас, нужно ввести команду:

    git log --all

## Просмотр списка изменений all oneline
Для того, чтобы просмотреть список изменений во всех ветках, вне зависимости в каком коммите вы находитесь сейчас, где каждый коммит записан в одну строку, нужно ввести команду:

    git log --all --oneline

## Ветвление
Ветвления в гите нужны для параллельной работы команды из нескольких человек, чтобы работа над проектом продолжалась без вмешательства в основную линию.

### Отображение всех имеющихся веток
Для показа всех веток используется команда:

    git branch

### Создание новой ветки
Чтобы создать новую ветку используется команда:

    git branch <name>

### Удаление ветки
Чтобы удалить ветку после её слияния используйте команду:

    git branch -d <name>

Так же можно удалить ветку без слияния и с потерей всех изменений внутри этой ветки с помощью команды:

    git branch -D <name>

### Переключение между ветками
Чтобы переключиться на новую ветку выполнить:

    git checkout name_branch

### Графисеское отображение веток
Чтобы вывести графического отображение коммитов веток нужно использовать команду:

    git log --graph

Также можно комбинировать несколько флагов в одну команду. Например, использовать отображение всего списка логов и веток графически с помощью команды:

    git log --all --oneline --graph

### Слияние веток
Слияние веток происходит по команде:

    git merge branch_name

Однако нужно помнить, что слияние ветки branch_name произойдет в ту ветку, где вы находитесь сейчас.

### Конфликт слияния
При слиянии одной ветви с другой изменения файлов из фиксаций в одной ветви могут конфликтовать с изменениями в другой. Например, главная ветвь и ветвь исправления ошибок обновляются в одни и те же строки исходного кода.
После запуска выполнения слияния веток коммитов, если возник конфликт слияния, то слияние будет приостановлено до разрешения конфликта.
В VS Code место начало места конфликта слияния будет обозначено в файле следующим образом:

    <<<<<<< HEAD (Current Change)

А конец конфликта так:

    >>>>>>> branch_name (Incoming Change)

Между этими обозначениями показаны два варианта кода в файле. Эти два варианта кода отделены друг от друга следующим    обозначением:

    =======

Для завершения слияния веток программист должен выбрать один из этих вариантов кода. В принципе, это можно сделать вручную, но в редакторе «VS Code» имеется функция, которая называется «CodeLens».

В данном случае функция «CodeLens» вывела над местом конфликта четыре подсказки в виде ссылок, на которые можно нажимать:

* Accept Current Change [выбрать вариант текущей ветки]
* Accept Incoming Change [выбрать вариант ветки, из которой идет слияние]
* Accept Both Changes [оба варианта останутся в файле друг под другом]
* Compare Changes [открывает дополнительное окно-вкладку со сравнением двух версий файла, похожее на редактор разниц]

После выбора нужного варианта кода не забудьте сохранить файл и внести изменения в ветку.